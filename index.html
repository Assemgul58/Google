<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–°–≤–∞–¥–µ–±–Ω–æ–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to bottom right, #fff200, #a9a9a9);
      color: #333;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 600px;
      margin: 2rem auto;
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.2);
      padding: 2rem;
    }
    h1, h2 {
      text-align: center;
      color: #ffcc00;
    }
    p {
      text-align: center;
      font-size: 1.2rem;
    }
    form {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    input, select, button {
      padding: 0.8rem;
      font-size: 1rem;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    button {
      background: #ffcc00;
      color: #333;
      font-weight: bold;
      cursor: pointer;
    }
    button:hover {
      background: #e6b800;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –Ω–∞ —Å–≤–∞–¥—å–±—É</h1>
    <h2>–ê–ª–º–∞–≥—É–ª—å –∏ –î–∞–Ω–∏—è—Ä–∞</h2>
    <p>–î–æ—Ä–æ–≥–∏–µ –≥–æ—Å—Ç–∏! –ú—ã —Ä–∞–¥—ã –ø—Ä–∏–≥–ª–∞—Å–∏—Ç—å –≤–∞—Å –Ω–∞ –Ω–∞—à—É —Å–≤–∞–¥—å–±—É. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —Å–≤–æ–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ.</p>
    <form id="rsvp-form">
      <input type="text" id="name" name="name" placeholder="–í–∞—à–µ –∏–º—è" required />
      <select id="attendance" name="attendance">
        <option value="–ü—Ä–∏–¥—É">–° —Ä–∞–¥–æ—Å—Ç—å—é –ø—Ä–∏–¥—É</option>
        <option value="–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –Ω–µ —Å–º–æ–≥—É –ø—Ä–∏–π—Ç–∏">–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –Ω–µ —Å–º–æ–≥—É –ø—Ä–∏–π—Ç–∏</option>
      </select>
      <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
    </form>
    <p id="response-message" style="text-align: center; font-weight: bold;"></p>
  </div>

  <script>
    document.getElementById("rsvp-form").addEventListener("submit", function(e) {
      e.preventDefault();

      const name = document.querySelector("input[name='name']").value.trim();
      const attending = document.querySelector("input[name='attending']:checked").value;

      // Telegram
      fetch("https://api.telegram.org/bot7824892889:AAEsxI51ngbcc9IT_SBz1uFXk2uWrjIDftQ/sendMessage", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          chat_id: "112409",
          text: `üéâ –ù–æ–≤–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ!\nüë§ –ò–º—è: ${name}\nüìç –°—Ç–∞—Ç—É—Å: ${attending}`
        })
      });

      // Google Sheets
      fetch("https://script.google.com/macros/s/AKfycbwY0tb4u9wZwwx_p6PGfMLkMe9Z5xYHzeIOHRQ9Ry5fX72evLHvjbyQ-uJlm53unlDf/exec", {
        method: "POST",
        headers: { "Content-Type": "application/x-www-form-urlencoded" },
        body: `name=${encodeURIComponent(name)}&attending=${encodeURIComponent(attending)}`
      });

      // –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
      document.getElementById("confirmation-msg").textContent = "–°–ø–∞—Å–∏–±–æ! –í–∞—à –æ—Ç–≤–µ—Ç –ø–æ–ª—É—á–µ–Ω.";
      document.getElementById("rsvp-form").reset();
    });
  </script>
</body>
</html>
